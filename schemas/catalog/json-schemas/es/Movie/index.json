{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "@segha/catalog/es/Movie",
  "description": "Schemas for Petroglyph Catalog",
  "$defs": {
    "MovieExternalId": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "string",
      "pattern": "^(tmdb|imdb|watchmode|tvmaze|tvdb):.+$"
    },
    "MovieSchema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "type": {
          "default": "[[Fuentes]]",
          "type": "string",
          "const": "[[Fuentes]]",
          "description": "Bibliografías, recursos validados sobre los que acumular información."
        },
        "areas": {
          "default": [
            "[[Creatividad]]"
          ],
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "[[Alimentación]]",
              "[[Salud]]",
              "[[Conocimiento]]",
              "[[Pensamiento Estructurado]]",
              "[[Hogar]]",
              "[[Productividad]]",
              "[[Exploración]]",
              "[[Vínculos]]",
              "[[Ejercicio]]",
              "[[Energía Vital]]",
              "[[Trabajo]]",
              "[[Finanzas]]",
              "[[Salud Mental]]",
              "[[Creatividad]]"
            ],
            "description": "Área"
          },
          "description": "Áreas"
        },
        "color": {
          "default": "#BE9207",
          "description": "Color de la nota.",
          "type": "string",
          "pattern": "^#([0-9a-fA-F]{6}|[0-9a-fA-F]{8})$"
        },
        "icon": {
          "default": "movie",
          "description": "Icono de Lucide.",
          "type": "string",
          "pattern": "^[a-z-]+$"
        },
        "banner": {
          "description": "Imagen",
          "anyOf": [
            {
              "type": "string",
              "format": "uri"
            },
            {
              "type": "string",
              "pattern": "\\[\\[([^\\]|]+)(?:\\|([^\\]]+))?\\]\\]",
              "description": "Wikilink: [[Wikilink]] o [[Wikilink|Display Text]]"
            }
          ]
        },
        "cover": {
          "description": "Portada de la película.",
          "anyOf": [
            {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uri"
                },
                {
                  "type": "string",
                  "pattern": "\\[\\[([^\\]|]+)(?:\\|([^\\]]+))?\\]\\]",
                  "description": "Wikilink: [[Wikilink]] o [[Wikilink|Display Text]]"
                }
              ],
              "description": "Imagen: URL o Wikilink de una imagen."
            },
            {
              "type": "null"
            }
          ]
        },
        "projects": {
          "description": "Proyectos asociados.",
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "\\[\\[([^\\]|]+)(?:\\|([^\\]]+))?\\]\\]",
            "description": "Wikilink: [[Wikilink]] o [[Wikilink|Display Text]]"
          }
        },
        "topics": {
          "description": "Temas: Wikilink o texto libre",
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "\\[\\[([^\\]|]+)(?:\\|([^\\]]+))?\\]\\]",
                "description": "Wikilink: [[Wikilink]] o [[Wikilink|Display Text]]"
              },
              {
                "type": "string"
              }
            ]
          }
        },
        "status": {
          "default": "Pendiente",
          "anyOf": [
            {
              "type": "string",
              "const": "Pendiente"
            },
            {
              "type": "string",
              "const": "En Proceso"
            },
            {
              "type": "string",
              "const": "Visto"
            }
          ],
          "description": "Estado de visualización de la película"
        },
        "rating": {
          "description": "Valoración personal de la fuente.",
          "anyOf": [
            {
              "type": "number",
              "const": 7,
              "description": "Perfecto, hay que probarlo, te cambia la vida, haz un esfuerzo por buscarlo."
            },
            {
              "type": "number",
              "const": 6,
              "description": "Excelente, vale la pena repetirlo"
            },
            {
              "type": "number",
              "const": 5,
              "description": "Bueno, no hagas un esfuerzo especial, pero es agradable."
            },
            {
              "type": "number",
              "const": 4,
              "description": "Aceptable, sirve en caso de apuro."
            },
            {
              "type": "number",
              "const": 3,
              "description": "Malo, no lo hagas si puedes evitarlo."
            },
            {
              "type": "number",
              "const": 2,
              "description": "Atroz, evítalo activamente, repulsivo"
            },
            {
              "type": "number",
              "const": 1,
              "description": "Malvado, te cambia la vida para mal."
            }
          ]
        },
        "aliases": {
          "description": "Alias de la nota.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "format": {
          "default": "[[Películas]]",
          "type": "string",
          "const": "[[Películas]]",
          "description": "Películas"
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "URL de la película en IMDB o similar"
        },
        "author": {
          "description": "Autores de la fuente.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "published": {
          "description": "Año de publicación",
          "anyOf": [
            {
              "type": "string",
              "pattern": "^[0-9]{4}$",
              "description": "Año: YYYY"
            },
            {
              "type": "string",
              "pattern": "^[0-9]{4}-[0-9]{2}$",
              "description": "Mes: YYYY-MM"
            },
            {
              "type": "string",
              "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
              "description": "Fecha: YYYY-MM-DD"
            }
          ]
        },
        "title": {
          "type": "string",
          "description": "Título de la película"
        },
        "watch_url": {
          "description": "URL de la película en streaming",
          "type": "string",
          "format": "uri"
        },
        "external_ids": {
          "description": "IDs externos de la película",
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^(tmdb|imdb|watchmode|tvmaze|tvdb):.+$"
          }
        },
        "actors": {
          "description": "Actores",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "genres": {
          "description": "Géneros",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "online_rating": {
          "description": "Puntuación en línea",
          "type": "number"
        },
        "last_time_watched": {
          "description": "Última vez vista",
          "anyOf": [
            {
              "type": "string",
              "pattern": "^[0-9]{4}$",
              "description": "Año: YYYY"
            },
            {
              "type": "string",
              "pattern": "^[0-9]{4}-[0-9]{2}$",
              "description": "Mes: YYYY-MM"
            },
            {
              "type": "string",
              "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
              "description": "Fecha: YYYY-MM-DD"
            }
          ]
        },
        "times_watched": {
          "description": "Veces vista",
          "default": 0,
          "type": "number"
        }
      },
      "required": [
        "url",
        "title"
      ],
      "description": "Película"
    }
  }
}